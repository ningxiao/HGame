{"version":3,"file":"./script/index.min.js","sources":["webpack:///./script/index.min.js"],"sourcesContent":["/*!\n * \n * -------------------------------------------------------------\n * @version: 1.0.0\n * @author: ningxiao@meitu.com\n * @description:  canvas分享\n * @date: 2021/08/25 17:36:46\n * -------------------------------------------------------------\n */\n!function(e){function t(e){delete installedChunks[e]}function n(e){var t=document.getElementsByTagName(\"head\")[0],n=document.createElement(\"script\");n.type=\"text/javascript\",n.charset=\"utf-8\",n.src=d.p+\"\"+e+\".\"+m+\".hot-update.js\",t.appendChild(n)}function i(e){return e=e||1e4,new Promise(function(t,n){if(\"undefined\"==typeof XMLHttpRequest)return n(new Error(\"No browser support\"));try{var i=new XMLHttpRequest,r=d.p+\"\"+m+\".hot-update.json\";i.open(\"GET\",r,!0),i.timeout=e,i.send(null)}catch(e){return n(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)n(new Error(\"Manifest request to \"+r+\" timed out.\"));else if(404===i.status)t();else if(200!==i.status&&304!==i.status)n(new Error(\"Manifest request to \"+r+\" failed.\"));else{try{var e=JSON.parse(i.responseText)}catch(e){return void n(e)}t(e)}}})}function r(e){var t=D[e];if(!t)return d;var n=function(n){return t.hot.active?(D[n]?D[n].parents.indexOf(e)<0&&D[n].parents.push(e):(O=[e],y=n),t.children.indexOf(n)<0&&t.children.push(n)):(console.warn(\"[HMR] unexpected require(\"+n+\") from disposed module \"+e),O=[]),d(n)};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&\"e\"!==i&&Object.defineProperty(n,i,function(e){return{configurable:!0,enumerable:!0,get:function(){return d[e]},set:function(t){d[e]=t}}}(i));return n.e=function(e){function t(){M--,\"prepare\"===j&&(C[e]||l(e),0===M&&0===P&&f())}return\"ready\"===j&&a(\"prepare\"),M++,d.e(e).then(t,function(e){throw t(),e})},n}function o(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:y!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if(\"function\"==typeof e)t._selfAccepted=e;else if(\"object\"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if(\"object\"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:s,apply:h,status:function(e){if(!e)return j;E.push(e)},addStatusHandler:function(e){E.push(e)},removeStatusHandler:function(e){var t=E.indexOf(e);t>=0&&E.splice(t,1)},data:x[e]};return y=void 0,t}function a(e){j=e;for(var t=0;t<E.length;t++)E[t].call(null,e)}function u(e){return+e+\"\"===e?+e:e}function s(e){if(\"idle\"!==j)throw new Error(\"check() is only allowed in idle status\");return _=e,a(\"check\"),i(w).then(function(e){if(!e)return a(\"idle\"),null;L={},C={},T=e.c,b=e.h,a(\"prepare\");var t=new Promise(function(e,t){v={resolve:e,reject:t}});g={};return l(0),\"prepare\"===j&&0===M&&0===P&&f(),t})}function c(e,t){if(T[e]&&L[e]){L[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g[n]=t[n]);0==--P&&0===M&&f()}}function l(e){T[e]?(L[e]=!0,P++,n(e)):C[e]=!0}function f(){a(\"ready\");var e=v;if(v=null,e)if(_)Promise.resolve().then(function(){return h(_)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in g)Object.prototype.hasOwnProperty.call(g,n)&&t.push(u(n));e.resolve(t)}}function h(n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}}if(\"ready\"!==j)throw new Error(\"apply() is only allowed in ready status\");n=n||{};var r,o,s,c,l,f={},h=[],p={},y=function(){console.warn(\"[HMR] unexpected require(\"+_.moduleId+\") to disposed module\")};for(var v in g)if(Object.prototype.hasOwnProperty.call(g,v)){l=u(v);var _;_=g[v]?function(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),a=o.id,u=o.chain;if((c=D[a])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:\"self-declined\",chain:u,moduleId:a};if(c.hot._main)return{type:\"unaccepted\",chain:u,moduleId:a};for(var s=0;s<c.parents.length;s++){var l=c.parents[s],f=D[l];if(f){if(f.hot._declinedDependencies[a])return{type:\"declined\",chain:u.concat([l]),moduleId:a,parentId:l};t.indexOf(l)>=0||(f.hot._acceptedDependencies[a]?(n[l]||(n[l]=[]),i(n[l],[a])):(delete n[l],t.push(l),r.push({chain:u.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:e,outdatedModules:t,outdatedDependencies:n}}(l):{type:\"disposed\",moduleId:v};var w=!1,k=!1,E=!1,P=\"\";switch(_.chain&&(P=\"\\nUpdate propagation: \"+_.chain.join(\" -> \")),_.type){case\"self-declined\":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(w=new Error(\"Aborted because of self decline: \"+_.moduleId+P));break;case\"declined\":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(w=new Error(\"Aborted because of declined dependency: \"+_.moduleId+\" in \"+_.parentId+P));break;case\"unaccepted\":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(w=new Error(\"Aborted because \"+l+\" is not accepted\"+P));break;case\"accepted\":n.onAccepted&&n.onAccepted(_),k=!0;break;case\"disposed\":n.onDisposed&&n.onDisposed(_),E=!0;break;default:throw new Error(\"Unexception type \"+_.type)}if(w)return a(\"abort\"),Promise.reject(w);if(k){p[l]=g[l],i(h,_.outdatedModules);for(l in _.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,l)&&(f[l]||(f[l]=[]),i(f[l],_.outdatedDependencies[l]))}E&&(i(h,[_.moduleId]),p[l]=y)}var M=[];for(o=0;o<h.length;o++)l=h[o],D[l]&&D[l].hot._selfAccepted&&M.push({module:l,errorHandler:D[l].hot._selfAccepted});a(\"dispose\"),Object.keys(T).forEach(function(e){!1===T[e]&&t(e)});for(var C,L=h.slice();L.length>0;)if(l=L.pop(),c=D[l]){var I={},S=c.hot._disposeHandlers;for(s=0;s<S.length;s++)(r=S[s])(I);for(x[l]=I,c.hot.active=!1,delete D[l],delete f[l],s=0;s<c.children.length;s++){var R=D[c.children[s]];R&&((C=R.parents.indexOf(l))>=0&&R.parents.splice(C,1))}}var F,U;for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(c=D[l]))for(U=f[l],s=0;s<U.length;s++)F=U[s],(C=c.children.indexOf(F))>=0&&c.children.splice(C,1);a(\"apply\"),m=b;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(e[l]=p[l]);var H=null;for(l in f)if(Object.prototype.hasOwnProperty.call(f,l)&&(c=D[l])){U=f[l];var X=[];for(o=0;o<U.length;o++)if(F=U[o],r=c.hot._acceptedDependencies[F]){if(X.indexOf(r)>=0)continue;X.push(r)}for(o=0;o<X.length;o++){r=X[o];try{r(U)}catch(e){n.onErrored&&n.onErrored({type:\"accept-errored\",moduleId:l,dependencyId:U[o],error:e}),n.ignoreErrored||H||(H=e)}}}for(o=0;o<M.length;o++){var A=M[o];l=A.module,O=[l];try{d(l)}catch(e){if(\"function\"==typeof A.errorHandler)try{A.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:\"self-accept-error-handler-errored\",moduleId:l,error:t,orginalError:e,originalError:e}),n.ignoreErrored||H||(H=t),H||(H=e)}else n.onErrored&&n.onErrored({type:\"self-accept-errored\",moduleId:l,error:e}),n.ignoreErrored||H||(H=e)}}return H?(a(\"fail\"),Promise.reject(H)):(a(\"idle\"),new Promise(function(e){e(h)}))}function d(t){if(D[t])return D[t].exports;var n=D[t]={i:t,l:!1,exports:{},hot:o(t),parents:(k=O,O=[],k),children:[]};return e[t].call(n.exports,n,n.exports,r(t)),n.l=!0,n.exports}var p=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){c(e,t),p&&p(e,t)};var y,v,g,b,_=!0,m=\"b1c312c54bfbd8111483\",w=1e4,x={},O=[],k=[],E=[],j=\"idle\",P=0,M=0,C={},L={},T={},D={};d.m=e,d.c=D,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,\"a\",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p=\"\",d.h=function(){return m},r(6)(d.s=6)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o={guid:function(){return\"xxxxxx4xxyxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)}).toUpperCase()},pointLength:function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},queueBitmap:function(e,t,n,i){var o=0,a=e.length;e.forEach(function(u){var s=u.url,c=u.name,l=new Image;l.onload=function(){o++,t[c]=new r.default(l),i&&i.call(void 0,{total:e.length,loaded:o}),o>=a&&n()},l.src=s})}};t.default=o},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this._target=null,this._type=t}return r(e,[{key:\"target\",get:function(){return this._target}},{key:\"type\",get:function(){return this._type}}],[{key:\"ENTERFRAME\",get:function(){return\"enterFrame\"}},{key:\"ADDED\",get:function(){return\"added\"}},{key:\"REMOVED\",get:function(){return\"removed\"}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if(\"value\"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=n(12),l=i(c),f=n(13),h=i(f),d=n(0),p=i(d),y=n(5),v=i(y),g=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._x=0,e._y=0,e.z=0,e.uid=p.default.guid(),e.focus=!1,e.mask=!1,e.width=0,e.height=0,e.bitmap=null,e.mouseX=0,e.mouseY=0,e.zMax=0,e.zIndex=0,e.childList=[],e.centerX=0,e.centerY=0,e.parent=null,e.rotation=0,e.buttonMode=!1,e.alpha=1,e.transform=null,e.visible=!0,e.cacheAsBitmap=!1,e._stage=null,e._global_x=0,e._global_y=0,e._global_rect=new h.default,e}return a(t,e),u(t,[{key:\"_sortZindex\",value:function(){this.childList.length>1&&this.childList.sort(function(e,t){return t.zIndex-e.zIndex})}},{key:\"_release\",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"_release\",this).call(this)}},{key:\"getObjectsUnderPoint\",value:function(e,t){for(var n=-1,i=void 0,r=void 0,o=0,a=this.childList.length;o<a;o++)(i=this.getChildAt(o))&&i.visible&&i.hitTestPoint(e,t)&&i.zIndex>n&&(n=i.zIndex,r=o);return null!=r&&(i=this.childList[r],i.childList.length>0&&(i=i.getObjectsUnderPoint.call(i,e,t))),i}},{key:\"getChildAt\",value:function(e){return this._numChildren>0&&e<this.childList.length?this.childList[e]:null}},{key:\"getRect\",value:function(e){var n=new h.default;return e instanceof t&&n.setTo(e.x,e.y,e.width,e.height),n}},{key:\"globalToLocal\",value:function(e){return new l.default(e.x-this._global_x,e.y-this._global_y)}},{key:\"localToGlobal\",value:function(e){return new l.default(e.x+this._global_x,e.y+this._global_y)}},{key:\"hitTestObject\",value:function(e){if(e instanceof t){var n=this._global_x,i=n+this.width,r=this._global_y,o=r+this.height,a=e._global_x,u=a+e.width,s=e._global_y,c=s+e.height;if(!(i<a||n>u||o<s||r>c))return!0}return!1}},{key:\"hitTestPoint\",value:function(e,t){return this._global_rect.contains(e,t)}},{key:\"activation\",value:function(){var e=void 0;if(this.parent){this._stage=this.parent.stage,this._global_x=this.parent._global_x+this.x,this._global_y=this.parent._global_y+this.y,this._global_rect.setTo(this._global_x,this._global_y,this.width,this.height);for(var t=this.childList.length-1;t>=0;t--)(e=this.childList[t])&&e.visible&&e.activation()}}},{key:\"enterFrame\",value:function(){}},{key:\"exitFrame\",value:function(e){var t=void 0;this.enterFrame(),e.draw(this);for(var n=this.childList.length-1;n>=0;n--)(t=this.childList[n])&&t.visible&&t.exitFrame(e)}},{key:\"globalX\",get:function(){return this._global_x}},{key:\"globalY\",get:function(){return this._global_y}},{key:\"stage\",get:function(){return this._stage}},{key:\"x\",get:function(){return this._x},set:function(e){this._x=e,this.activation()}},{key:\"y\",get:function(){return this._y},set:function(e){this._y=e,this.activation()}}]),t}(v.default);t.default=g},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments[3],a=arguments[4],u=arguments[5],s=arguments[6];i(this,e),this.imgdata=t,this.bitmapdata=null,this.x=n,this.y=r,this.width=u||t.width,this.height=s||t.height,this._swidth=o||this.width,this._sheight=a||this.height}return r(e,[{key:\"swidth\",get:function(){return this._swidth},set:function(e){this._swidth=e||this.width}},{key:\"sheight\",get:function(){return this._sheight},set:function(e){this._sheight=e||this.height}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._localX=0,a._localY=0,a._stageX=n,a._stageY=o,a}return o(t,e),a(t,[{key:\"stageX\",get:function(){return this._stageX}},{key:\"stageY\",get:function(){return this._stageY}},{key:\"localX\",get:function(){return this._localX}},{key:\"localY\",get:function(){return this._localY}}],[{key:\"CLICK\",get:function(){return\"click\"}},{key:\"MOUSE_DOWN\",get:function(){return\"mousedown\"}},{key:\"MOUSE_UP\",get:function(){return\"mouseUp\"}},{key:\"MOUSE_WHEEL\",get:function(){return\"mousewheel\"}},{key:\"MOUSE_MOVE\",get:function(){return\"mousemove\"}},{key:\"MOUSE_OUT\",get:function(){return\"mouseout\"}},{key:\"MOUSE_OVER\",get:function(){return\"mouseover\"}}]),t}(s.default);t.default=c},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=0,s={},c=function(){function e(){i(this,e),this._events={}}return r(e,[{key:\"addEventListener\",value:function(e,t,n,i,r){return u++,s[u]=t,this._events[e]&&this._events[e].constructor===Array?this._events[e].push(u):this._events[e]=[u],u}},{key:\"dispatchEvent\",value:function(e){var t=this;if(e instanceof a.default){var n=void 0,i=void 0;(n=this._events[e.type])&&n.forEach(function(n){(i=s[n])&&(e._target=t,i.call(t,e))})}}},{key:\"_release\",value:function(){for(var e in this._events)this.removeEventListener(e);this._events=null}},{key:\"hasEventListener\",value:function(e){return!!this._events[e]}},{key:\"removeEventListener\",value:function(e){var t=void 0;(t=this._events[e])&&t.forEach(function(e){delete s[e]}),delete this._events[e]}},{key:\"unlistenByKey\",value:function(e){e in s&&(s[e]=null,delete s[e])}}]),e}();t.default=c},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=i(r),a=n(7),u=i(a),s=n(14),c=i(s),l=n(3),f=i(l),h=n(16),d=i(h),p=n(4),y=i(p),v=new URLSearchParams(window.location.search).get(\"engine\"),g=\"wx\"===v,b=document.createElement(g?\"canvas\":\"div\");document.title=g?\"canvas渲染\":\"html渲染\",b.classList.add(\"stage\"),document.body.appendChild(b);var _=new u.default(b,v),m={};o.default.queueBitmap([{name:\"start\",url:\"./images/start.png\"},{name:\"monster\",url:\"./images/monster.png\"},{name:\"coinAni\",url:\"./images/coinAni.png\"}],m,function(){var e=void 0,t=m.start,n=new c.default;n.width=400,n.height=400,n.x=80,n.name=\"box\";var i=new c.default;i.name=\"bubox\",i.x=50,i.width=250,i.height=250;for(var r=[],o=0;o<2;o++)e=new c.default,e.bitmap=t,e.name=o,e.y=60*o+20,e.width=Math.floor(t.width/2),e.height=Math.floor(t.height/2),r.push(e),i.addChild(e);n.addChild(i);var a=new c.default,u=m.monster;a.bitmap=u,a.name=\"monster\",a.y=120,a.buttonMode=!0,a.width=u.width/2,a.height=u.height/2,_.addChild(n),_.addChild(a),_.exitFrame(),e=r[1],e.buttonMode=!0,e.addEventListener(y.default.CLICK,function(e){console.log(\"点击移动怪兽\",a.x),a.x+=2}),r[0].addEventListener(y.default.CLICK,function(e){console.log(\"点击添加金币\");var t=new d.default;t.width=60,t.height=60,t.y=100*Math.random()+50*Math.random(),t.x=100*Math.random()+50*Math.random();for(var n=0;n<10;n++)t.addFrame(new f.default(m.coinAni.imgdata,0,60*n,60,60));_.addChild(t)})})},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(8),c=i(s),l=n(11),f=i(l),h=n(2),d=i(h),p=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._canvas=e,i._stage=i,i._numChildren=0,i.device=new f.default(i),i.engine=(0,c.default)(e,n),i.exitFrame(),i}return a(t,e),u(t,[{key:\"addChild\",value:function(e){e instanceof d.default&&(e.parent=this,e.zIndex=this.zMax,e.activation(),this.zMax++,this._numChildren++,this.childList.push(e),this._sortZindex())}},{key:\"enterFrame\",value:function(){}},{key:\"exitFrame\",value:function(){this.enterFrame(),this.engine.clearRect(),this.engine.drawMouse(this.getObjectsUnderPoint(this.device.mouseX,this.device.mouseY));for(var e=this.childList.length-1;e>=0;e--){var t=this.childList[e];t&&t.visible&&t.exitFrame(this.engine)}window.requestAnimationFrame(this.exitFrame.bind(this))}},{key:\"numChildren\",get:function(){return this._numChildren}}]),t}(d.default);t.default=p},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(9),o=i(r),a=n(10),u=i(a);t.default=function(e,t){switch(t){case\"wx\":return new u.default(e);case\"h5\":return new o.default(e)}}},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.canvas=t,this.domMap=new Map,this.width=this.canvas.offsetWidth,this.height=this.canvas.offsetHeight}return r(e,[{key:\"clearRect\",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.width,arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.height,!0),t=!1,n=void 0;try{for(var i,r=this.domMap[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o[0].visible?o[1].style.display=\"block\":o[1].style.display=\"none\"}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:\"drawImage\",value:function(e){var t=this.domMap.get(e),n=e.globalX-e.parent.globalX,i=e.globalY-e.parent.globalY;if(t.style.transform=\"translate(\"+n+\"px, \"+i+\"px)\",e.frames){var r=void 0;(r=e.bitmap)&&(t.style.backgroundPosition=r.x+\"px \"+-r.y+\"px\",t.style.backgroundSize=\"auto\")}}},{key:\"drawMouse\",value:function(e){e&&e.buttonMode?this.canvas.style.cursor=\"pointer\":this.canvas.style.cursor=\"auto\"}},{key:\"draw\",value:function(e){if(e){if(!this.domMap.has(e)){var t=void 0,n=void 0,i=document.createElement(\"div\");this.domMap.set(e,i),i.id=e.uid,i.classList.add(\"sprite\"),n=\"transform: translate(\"+e.globalX+\"px, \"+e.globalY+\"px);width: \"+e.width+\"px;height: \"+e.height+\"px;\",(t=e.bitmap)&&(n+=\"background-image: url('\"+t.imgdata.src+\"');\"),i.style.cssText=n,(this.domMap.get(e.parent)||this.canvas).appendChild(i)}this.drawImage(e)}}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.canvas=t,this.width=this.canvas.offsetWidth,this.height=this.canvas.offsetHeight,this.ctx=this.canvas.getContext(\"2d\"),this.ratio=this._getratio,this.ctx.scale(this.ratio,this.ratio)}return r(e,[{key:\"clearRect\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.height;this.ctx.clearRect(e,t,n,i)}},{key:\"drawImage\",value:function(e){var t=void 0;(t=e.bitmap)&&this.ctx.drawImage(t.imgdata,t.x,t.y,t.swidth,t.sheight,e.globalX,e.globalY,e.width,e.height)}},{key:\"drawMouse\",value:function(e){e&&e.buttonMode?this.canvas.style.cursor=\"pointer\":this.canvas.style.cursor=\"auto\"}},{key:\"draw\",value:function(e){e&&(this.ctx.save(),this.drawImage(e),this.ctx.restore())}},{key:\"_getratio\",get:function(){var e=window.devicePixelRatio||1,t=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,n=e/t;return this.canvas.width=this.width*n,this.canvas.height=this.height*n,this.canvas.style.width=this.width+\"px\",this.canvas.style.height=this.height+\"px\",n}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),c=(i(s),n(4)),l=i(c),f=n(5),h=i(f),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.mouseY=0,n.mouseX=0,n.stage=e,n.stage._canvas.addEventListener(l.default.CLICK,n.mouseclick.bind(n)),n.stage._canvas.addEventListener(l.default.MOUSE_MOVE,n.mousemove.bind(n)),n}return a(t,e),u(t,[{key:\"mousemove\",value:function(e){var t=this.stage.getObjectsUnderPoint(e.offsetX,e.offsetY,!0);this.mouseY=e.offsetY,this.mouseX=e.offsetX,t.hasEventListener(l.default.MOUSE_MOVE)&&t.dispatchEvent(new l.default(l.default.MOUSE_MOVE,e.offsetX,e.offsetY))}},{key:\"mouseclick\",value:function(e){var t=this.stage.getObjectsUnderPoint(e.offsetX,e.offsetY,!0);t.hasEventListener(l.default.CLICK)&&t.dispatchEvent(new l.default(l.default.CLICK,e.offsetX,e.offsetY))}}]),t}(h.default);t.default=d},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.x=t,this.y=n,this.length=a.default.pointLength(this.x,this.y)}return r(e,[{key:\"clone\",value:function(){return new e(this.x,this.y)}},{key:\"add\",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:\"equals\",value:function(e){return this.x===e.x&&this.y===e.y}},{key:\"setTo\",value:function(e,t){this.x=e,this.y=t,this.length=a.default.pointLength(this.x,this.y)}},{key:\"offset\",value:function(e,t){this.setTo(this.x+e,this.y+t)}}],[{key:\"distance\",value:function(e,t){var n=e.x-t.x,i=e.y-t.y;return a.default.pointLength(n,i)}}]),e}();t.default=u},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this.x=t,this.y=n,this.top=this.y,this.left=this.x,this.width=r,this.height=o,this.right=this.x+this.width,this.bottom=this.y+this.height}return r(e,[{key:\"clone\",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:\"contains\",value:function(e,t){return!(e>this.right||e<this.x||t>this.bottom||t<this.y)}},{key:\"isEmpty\",value:function(){return 0===this.x&&0===this.y&&0===this.width&&0===this.height}},{key:\"setEmpty\",value:function(){this.x=0,this.y=0,this.top=0,this.left=0,this.width=0,this.height=0,this.right=0,this.bottom=0}},{key:\"setTo\",value:function(e,t,n,i){this.x=e,this.y=t,this.top=this.y,this.left=this.x,this.width=n||this.width,this.height=i||this.height,this.right=this.x+this.width,this.bottom=this.y+this.height}},{key:\"offset\",value:function(e,t){this.setTo(this.x+e,this.y+t)}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),c=i(s),l=n(2),f=i(l),h=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.stopDrag=!1,e.useHandCursor=!1,e.buttonMode=!1,e.mouseEnabled=!0,e._numChildren=0,e._graphics=new c.default,e}return a(t,e),u(t,[{key:\"addChild\",value:function(e){e instanceof f.default&&(e.parent=this,e.zIndex=this.zMax,e.activation(),this.zMax++,this._numChildren++,this.childList.push(e),this._sortZindex())}},{key:\"removeChild\",value:function(e){if(e&&e instanceof f.default){for(var t=0,n=this.childList.length;t<n;t++)if(this.childList[t]==e){this.childList.splice(t,1),this.child._release(),this._numChildren--;break}return e}console.log(\"当前对象没有继承DisplayObject\")}},{key:\"graphics\",get:function(){return this._graphics}},{key:\"numChildren\",get:function(){return this._numChildren}}]),t}(f.default);t.default=h},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.engine=null}return r(e,[{key:\"activation\",value:function(e){this.engine=e}},{key:\"drawCircle\",value:function(e,t,n){}},{key:\"drawRect\",value:function(e,t,n,i){}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(2),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.frames=[],e.frequency=3,e.currentFrame=0,e}return o(t,e),a(t,[{key:\"addFrame\",value:function(e){this.frames.push(e);for(var t=0;t<this.frequency-1;t++)this.frames.push(null)}},{key:\"enterFrame\",value:function(){this.frames[this.currentFrame]&&(this.bitmap=this.frames[this.currentFrame]),++this.currentFrame>this.frames.length&&(this.currentFrame=0)}},{key:\"exitFrame\",value:function(e){var t=void 0;this.enterFrame(),e.draw(this);for(var n=this.childList.length-1;n>=0;n--)(t=this.childList[n])&&t.visible&&t.exitFrame(e)}}]),t}(s.default);t.default=c}]);\n\n\n// WEBPACK FOOTER //\n// ./script/index.min.js"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}